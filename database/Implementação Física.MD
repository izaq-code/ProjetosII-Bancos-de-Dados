# üìÑ README ‚Äî Consultas SQL com Requisitos Espec√≠ficos

**Objetivo:** Responder a perguntas com consultas SQL que atendem a requisitos espec√≠ficos de jun√ß√µes, filtros, operadores, agrupamentos, subconsultas e ordena√ß√µes.

---

## ‚úÖ **1. Jun√ß√£o de 3 ou mais tabelas com `ORDER BY`**

**Pergunta 1:** Quais s√£o todos os funcion√°rios, seus dados e informa√ß√µes de projeto e cargo, agrupados por cargo, ordenados alfabeticamente?

```sql
SELECT f.nome AS Funcionario, f.telefone, f.email, f.salario_hora, f.nome_cargo AS Cargo, p.id_projeto, p.descricao AS Projeto
FROM funcionario f
INNER JOIN etapa_projeto ep ON f.id_funcionario = ep.id_funcionario
INNER JOIN projeto p ON ep.id_projeto = p.id_projeto
ORDER BY f.nome_cargo ASC, f.nome ASC;
```

![colsulta sql](/docs/prints/ex1.png)

---

## ‚úÖ **2. Jun√ß√£o de 3 ou mais tabelas com `ORDER BY` e filtros na cl√°usula `WHERE`**

**Pergunta 4:** Quais funcion√°rios possuem e-mail informado e quais s√£o seus respectivos contatos, considerando tamb√©m os cargos e etapas de projetos em que est√£o envolvidos?

```sql
SELECT f.nome AS Nome_Funcionario, f.telefone, f.email, c.nome_cargo, ep.nome AS Nome_Etapa_Projeto,
       ep.descricao AS Descricao_Etapa, ep.status, p.descricao AS Nome_Projeto
FROM funcionario f
JOIN cargo c ON f.nome_cargo = c.nome_cargo
LEFT JOIN etapa_projeto ep ON f.id_funcionario = ep.id_funcionario
LEFT JOIN projeto p ON ep.id_projeto = p.id_projeto
WHERE f.email IS NOT NULL AND f.email <> '';
```

![colsulta sql](/docs/prints/ex4.png)

**Pergunta 5:** Quais projetos est√£o com status "Em andamento", exibindo a descri√ß√£o do projeto, o nome do cliente, o or√ßamento dispon√≠vel e os detalhes das etapas ou dos respons√°veis?

```sql
SELECT p.descricao AS Descricao_Projeto, p.status, cli.nome AS Nome_Cliente, cli.Orcamento_Disponivel,
       f.nome AS Nome_Funcionario, f.nome_cargo, ep.nome AS Nome_Etapa, ep.descricao, ep.data_inicio,
       ep.data_fim_prevista, ep.data_fim_real, ep.status AS Status_Etapa_Projeto
FROM projeto p
JOIN cliente cli ON p.id_cliente = cli.id_cliente
JOIN etapa_projeto ep ON p.id_projeto = ep.id_projeto
JOIN funcionario f ON ep.id_funcionario = f.id_funcionario
WHERE p.status = 'Em andamento';
```

![colsulta sql](/docs/prints/ex5.png)

**Pergunta 6:** Quais s√£o os projetos cancelados, quem foram os funcion√°rios que participaram de suas etapas, e qual era o or√ßamento do cliente?

```sql
SELECT p.descricao AS Descricao_Projeto, p.status, cli.nome AS Nome_Cliente, cli.Orcamento_Disponivel,
       f.nome AS Nome_Funcionario, f.nome_cargo, ep.nome AS Nome_Etapa, ep.descricao, ep.data_inicio,
       ep.data_fim_prevista, ep.data_fim_real, ep.status AS Status_Etapa_Projeto
FROM projeto p
JOIN cliente cli ON p.id_cliente = cli.id_cliente
JOIN etapa_projeto ep ON p.id_projeto = ep.id_projeto
JOIN funcionario f ON ep.id_funcionario = f.id_funcionario
WHERE p.status = 'Cancelado';
```

![colsulta sql](/docs/prints/ex6.png)

---

## ‚úÖ **3. Jun√ß√£o de 3 ou mais tabelas com `LIKE` e `BETWEEN`**

**Pergunta 10:** Quais projetos tiveram etapas iniciadas entre duas datas espec√≠ficas, considerando o nome do funcion√°rio respons√°vel e o status da etapa?

```sql
SELECT p.id_projeto, p.descricao AS projeto, e.nome AS etapa, e.data_inicio, e.status, f.nome AS funcionario_responsavel 
FROM projeto p
JOIN etapa_projeto e ON p.id_projeto = e.id_projeto
LEFT JOIN funcionario f ON e.id_funcionario = f.id_funcionario
WHERE e.data_inicio BETWEEN '2024-01-01' AND '2025-01-01'
ORDER BY e.data_inicio;
```

![colsulta sql](/docs/prints/ex10.png)

---

## ‚úÖ **4. Jun√ß√£o de 3 ou mais tabelas com `IN/NOT IN` e `IS NULL/IS NOT NULL`**

**Pergunta 12:** Quais s√£o os projetos que t√™m etapas atribu√≠das a funcion√°rios cujo e-mail n√£o foi informado (NULL)?

```sql
SELECT p.id_projeto, p.descricao AS projeto, e.nome AS etapa, f.nome AS funcionario, f.email 
FROM projeto p
JOIN etapa_projeto e ON p.id_projeto = e.id_projeto
LEFT JOIN funcionario f ON e.id_funcionario = f.id_funcionario
WHERE f.email IS NULL OR e.id_funcionario IS NULL;
```

![colsulta sql](/docs/prints/ex12.png)

---

## ‚úÖ **5. Jun√ß√£o de 2 ou mais tabelas com `GROUP BY`, sem `HAVING`, com agrega√ß√£o e `ORDER BY`**

**Pergunta 2:** Exibir a quantidade de funcion√°rios em cada cargo, ordenando do maior para o menor n√∫mero de funcion√°rios.

```sql
SELECT c.nome_cargo AS "Cargo", COUNT(f.id_funcionario) AS "Quantidade de Funcion√°rios"
FROM cargo c
LEFT JOIN funcionario f ON c.nome_cargo = f.nome_cargo
GROUP BY c.nome_cargo
ORDER BY COUNT(f.id_funcionario) DESC;
```
![colsulta sql](/docs/prints/ex2.png)

**Pergunta 3:** Qual o nome do funcion√°rio, seu cargo e o valor do sal√°rio por hora, incluindo tamb√©m informa√ß√µes de participa√ß√£o em etapas de projetos?

```sql
SELECT f.nome AS "Funcionario", f.nome_cargo AS "Cargo", f.salario_hora AS "Salario por h/",
       COUNT(DISTINCT e.id_etapa) AS "Qtd Etapas Envolvido"
FROM funcionario f
LEFT JOIN etapa_projeto e ON f.id_funcionario = e.id_funcionario
GROUP BY f.id_funcionario, f.nome, f.nome_cargo, f.salario_hora
ORDER BY f.nome ASC;
```

![colsulta sql](/docs/prints/ex3.png)

**Pergunta 7:** Quantos projetos cada funcion√°rio participou por meio das etapas atribu√≠das, agrupando por funcion√°rio e ordenando pela quantidade?

```sql
SELECT f.id_funcionario AS "ID funcion√°rio", f.nome AS "Nome funcion√°rio",
       COUNT(e.id_etapa) AS "Projetos associados"
FROM funcionario f
INNER JOIN etapa_projeto e ON f.id_funcionario = e.id_funcionario
GROUP BY f.id_funcionario, f.nome
ORDER BY COUNT(e.id_etapa) DESC;
```

![colsulta sql](/docs/prints/ex7.png)

---

## ‚úÖ **6. Jun√ß√£o de 2 ou mais tabelas com `GROUP BY` e `HAVING`**

**Pergunta 8:** Para cada status existente, quantos projetos est√£o cadastrados, incluindo somente os status com mais de 1 projeto?

```sql
SELECT s.nome_status AS "Status", COUNT(p.id_projeto) AS "Projetos nesse status"
FROM status s
JOIN projeto p ON s.nome_status = p.status
GROUP BY s.nome_status
HAVING COUNT(p.id_projeto) > 1;
```

![colsulta sql](/docs/prints/ex8.png)

---

## ‚úÖ **7. Subselect sem correla√ß√£o**

**Pergunta 11:** Quais funcion√°rios possuem sal√°rio por hora maior que a m√©dia da empresa, incluindo informa√ß√µes sobre cargo e participa√ß√£o em projetos?

```sql
SELECT f.nome, f.salario_hora, f.nome_cargo, COUNT(e.id_etapa) AS participacao_projetos
FROM funcionario f
LEFT JOIN etapa_projeto e ON f.id_funcionario = e.id_funcionario
WHERE f.salario_hora > (SELECT AVG(salario_hora) FROM funcionario)
GROUP BY f.id_funcionario, f.nome, f.salario_hora, f.nome_cargo;
```

![colsulta sql](/docs/prints/ex11.png)

---

## ‚úÖ **8. Subselect com correla√ß√£o**

**Pergunta 9:** Quais clientes ainda n√£o abriram nenhum ticket de reclama√ß√£o e qual √© o or√ßamento dispon√≠vel de cada um deles?

```sql
SELECT c.id_cliente AS "ID", c.nome AS "Clientes sem ticket", c.Orcamento_Disponivel
FROM cliente c
LEFT JOIN ticket_de_suporte t ON c.id_cliente = t.id_cliente
WHERE t.id_ticket IS NULL
GROUP BY c.id_cliente, c.nome, c.Orcamento_Disponivel;
```

![colsulta sql](/docs/prints/ex9.png)

---

## ‚úÖ **9. Subselect com `EXISTS`**

**Consulta adicional 13:** Quais funcion√°rios participam de pelo menos uma etapa de projeto?

```sql
SELECT f.nome, f.email
FROM funcionario f
WHERE EXISTS (
    SELECT 1 FROM etapa_projeto ep WHERE ep.id_funcionario = f.id_funcionario
);
```

![colsulta sql](/docs/prints/ex13.png)

---

## ‚úÖ **10. Jun√ß√£o de 2 ou mais tabelas com `GROUP BY`, `HAVING` e `ALL`**

**Consulta adicional 14:** Quais funcion√°rios participaram do maior n√∫mero de etapas entre todos?

```sql
SELECT f.id_funcionario, f.nome, COUNT(e.id_etapa) AS qtd_projetos
FROM funcionario f
JOIN etapa_projeto e ON f.id_funcionario = e.id_funcionario
GROUP BY f.id_funcionario, f.nome
HAVING COUNT(e.id_etapa) >= ALL (
    SELECT COUNT(*) FROM etapa_projeto GROUP BY id_funcionario
);
```

![colsulta sql](/docs/prints/ex14.png)

---
